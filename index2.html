<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bài 2</title>
</head>
<body>
<script>
    function insertNumberToArray(array, number, index) {
        // Kiểm tra vị trí index có hợp lệ không
        if (index < 0 || index > array.length) {
            return array;
        }

        // Tạo mảng mới với kích thước lớn hơn 1 phần tử so với mảng ban đầu
        let newArray = new Array(array.length + 1);

        // Duyệt qua mảng ban đầu
        for (let i = 0, j = 0; i < array.length; i++, j++) {
            // Nếu đến vị trí index, thêm số mới vào mảng mới
            if (i === index) {
                newArray[j] = number;
                j++;
            }
            // Thêm phần tử từ mảng ban đầu vào mảng mới
            newArray[j] = array[i];
        }

        // Nếu index lớn hơn hoặc bằng chiều dài của mảng, thêm số mới vào cuối mảng mới
        if (index >= array.length) {
            newArray[array.length] = number;
        }

        return newArray; // Trả về mảng mới
    }

    // Test hàm
    let array = [1, 2, 3, 4, 5];
    let newX = 10;
    let newIndex = 2;
    let newArray = insertNumberToArray(array, newX, newIndex);
    console.log(newArray);
</script>
</body>
</html>